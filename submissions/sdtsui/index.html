<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta name="description" content="Vanilla JS Solution for the Flux Challenge"/>
  <title>Vanilla JS Solution for the Flux Challenge</title>
  <link rel="stylesheet" href="../../styles.css" type="text/css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.25/browser.js"></script>
</head>
<body>
    <div class="app-container">
      <div class="css-root">
        <h1 class="css-planet-monitor">Obi-Wan currently on Tatooine</h1>

        <section class="css-scrollable-list">
          <ul class="css-slots">
            <li class="css-slot">
              <h3>Jorak Uln</h3>
              <h6></h6>
            </li>
            <li class="css-slot">
              <h3>Skere Kaan</h3>
              <h6>Homeworld: Coruscant</h6>
            </li>
            <li class="css-slot">
              <h3>Na'daz</h3>
              <h6>Homeworld: Ryloth</h6>
            </li>
            <li class="css-slot">
              <h3>Kas'im</h3>
              <h6>Homeworld: Nal Hutta</h6>
            </li>
            <li class="css-slot">
              <h3>Darth Bane</h3>
              <h6>Homeworld: Apatros</h6>
            </li>
          </ul>

          <div class="css-scroll-buttons">
            <button class="css-button-up"></button>
            <button class="css-button-down"></button>
          </div>
        </section>
      </div>
    </div>
    <script src="./src/microajax.minified.js" type="text/javascript"></script>
    <script type="text/babel">
      console.log('index.js');
      let socket= new WebSocket('ws://localhost:4000');
      socket.onopen= function() {
          socket.send('Connected');
      };
      socket.onmessage= function(location) {
          console.log("Obi-Wan's New Location: ")
          console.dir(location);
      };

      console.dir(microAjax);

      microAjax("http://localhost:3000/dark-jedis/3616", function (res) {
        console.log('res', res);
      });
    </script>

    <script type="text/babel">
      let requests = [];
      let url = "http://localhost:3000/dark-jedis/3616";
      var _i;
      let logRes = (res) => {console.log('i', _i, 'res', res)};
      for (_i = 0; _i < 10; _i++) {
        // let callNum = _i;
        // requests.push(microAjax(url, logRes.bind(null, callNum)));
        var req = microAjax("http://localhost:3000/dark-jedis/3616", function (res) {
          console.log('res', res);
          console.log(requests);
        });
        console.dir('req', req);
        req.abort();
      }
    </script>
</body>
</html>
